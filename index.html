<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rajasthan Honeymoon Planner</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <!-- Import Map for React and Icons -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>

    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <style>
        /* Custom Marker Styles for Leaflet */
        .custom-div-icon {
            background: transparent;
            border: none;
        }
        .leaflet-container {
            background: #f5f5f4;
            font-family: sans-serif;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-stone-100">
    <div id="root"></div>

    <!-- Application Script -->
    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Car, Heart, Sun, Moon, Coffee, Camera, Info, 
            CheckCircle, Star, Users, Map as MapIcon, ChevronRight, 
            ChevronLeft, Navigation, Edit3, ShoppingBag, Utensils, 
            AlertTriangle, ArrowRight, BedDouble, Quote, Clock, ChevronDown, Train
        } from 'lucide-react';

        // ==========================================
        //  CONFIGURATION & DATA (EDIT THIS SECTION)
        // ==========================================
        const tripData = {
            meta: {
                coupleName: "Shalini & Pritesh",
                tripTitle: "Rajasthan Royal Retreat",
                duration: "7 Days",
                startCity: "Kolkata",
                routeSummary: "Jaipur-Jodhpur-Jaisalmer"
            },
            journeyCard: {
                image: "https://images.unsplash.com/photo-1599661046289-481fac1f466e?auto=format&fit=crop&w=800&q=80",
                quote: "Every palace, every sunset, every sand dune — made perfect because you’re with me."
            },
            itinerary: [
                {
                    day: 1,
                    city: "Jaipur",
                    coords: [26.9124, 75.7873],
                    title: "Royal Welcome",
                    image: "https://images.unsplash.com/photo-1477587458883-47145ed94245?auto=format&fit=crop&w=800&q=80",
                    color: "bg-rose-900",
                    travel: "Flight: Kolkata (CCU) → Jaipur (JAI)",
                    note: "Start early to beat the city traffic.",
                    stayType: "Boutique Heritage Haveli",
                    stayDesc: "Stay in a restored mansion to experience the authentic royal vibe of the Pink City.",
                    schedule: [
                        { time: "10:00 AM", title: "Private Airport Transfer", desc: "Direct to hotel." },
                        { time: "01:00 PM", title: "Check-in & Leisure Lunch", desc: "Relax after the flight." },
                        { time: "05:30 PM", title: "Sunset at Tattoo Cafe", desc: "Best Hawa Mahal view from across the street.", isSignature: true },
                        { time: "08:00 PM", title: "Dinner at Bar Palladio", desc: "Romantic Italian dining in a stunning blue heritage setting.", isSignature: true }
                    ]
                },
                {
                    day: 2,
                    city: "Jaipur",
                    coords: [26.9124, 75.7873],
                    title: "Forts & Markets",
                    image: "https://images.unsplash.com/photo-1524230507669-5ff97982bb5e?auto=format&fit=crop&w=800&q=80",
                    color: "bg-pink-800",
                    travel: "Scooty Rental or Private Cab",
                    note: "Wear comfortable shoes for fort walking.",
                    stayType: "Boutique Heritage Haveli",
                    stayDesc: "Continue your royal experience in the heart of the city.",
                    schedule: [
                        { time: "08:00 AM", title: "Amber Fort", desc: "Go early to beat the crowds and heat." },
                        { time: "11:00 AM", title: "Panna Meena ka Kund", desc: "Ancient stepwell photo stop." },
                        { time: "02:00 PM", title: "City Palace Tour", desc: "Explore the royal residence." },
                        { time: "05:30 PM", title: "Sunset at Nahargarh Fort", desc: "Panoramic views of the city.", isSignature: true },
                        { time: "08:00 PM", title: "Royal Dinner at 1135 AD", desc: "Dine inside Amber Fort for a truly regal experience.", isSignature: true }
                    ]
                },
                {
                    day: 3,
                    city: "Jodhpur",
                    coords: [26.2389, 73.0243],
                    title: "The Blue City",
                    image: "https://images.unsplash.com/photo-1534759846116-5799c33ce36a?auto=format&fit=crop&w=800&q=80",
                    color: "bg-blue-800",
                    travel: "Train: Jaipur → Jodhpur (Vande Bharat)",
                    note: "Enjoy the premium rail experience.",
                    stayType: "Luxury Boutique Hotel (RAAS)",
                    stayDesc: "Stay in a restored haveli with breathtaking views of the Mehrangarh Fort.",
                    schedule: [
                        { time: "06:00 AM", title: "Vande Bharat Express", desc: "Scenic morning train journey to Jodhpur." },
                        { time: "11:00 AM", title: "Arrival & Check-in", desc: "Transfer to your heritage hotel." },
                        { time: "03:00 PM", title: "Toorji Ka Jhalra", desc: "Visit the famous stepwell square." },
                        { time: "05:30 PM", title: "Blue City Walk", desc: "Guided walk through the indigo-hued streets.", isSignature: true },
                        { time: "08:00 PM", title: "Dinner at Indique", desc: "Rooftop dining with illuminated fort views.", isSignature: true }
                    ]
                },
                {
                    day: 4,
                    city: "Jodhpur to Jaisalmer",
                    coords: [26.9157, 70.9083], // Jaisalmer
                    title: "Fort to Desert",
                    image: "https://images.unsplash.com/photo-1590050752117-238cb0fb9f6f?auto=format&fit=crop&w=800&q=80",
                    color: "bg-amber-700",
                    travel: "Private Car: Jodhpur → Jaisalmer (~4.5 hrs)",
                    note: "Comfortable drive through the desert landscape.",
                    stayType: "Heritage Stay Inside Fort",
                    stayDesc: "Live like royalty within the only living fort in the world.",
                    schedule: [
                        { time: "09:00 AM", title: "Mehrangarh Fort", desc: "Explore one of India's largest forts.", isSignature: true },
                        { time: "12:30 PM", title: "Drive to Jaisalmer", desc: "Private car transfer." },
                        { time: "05:30 PM", title: "Arrival in Golden City", desc: "Check-in to your fort hotel." },
                        { time: "07:30 PM", title: "Sunset at Gadisar Lake", desc: "Boating and peaceful evening views." },
                        { time: "09:00 PM", title: "Dinner at Trio", desc: "Famous for traditional Laal Maas." }
                    ]
                },
                {
                    day: 5,
                    city: "Jaisalmer",
                    coords: [26.9157, 70.9083],
                    title: "Living History",
                    image: "https://images.unsplash.com/photo-1572886733226-c51323812959?auto=format&fit=crop&w=800&q=80",
                    color: "bg-amber-600",
                    travel: "Local Sightseeing",
                    note: "Wear a hat, it gets sunny!",
                    stayType: "Heritage Stay Inside Fort",
                    stayDesc: "Continue your stay in the Golden Fort.",
                    schedule: [
                        { time: "10:00 AM", title: "Jaisalmer Fort Tour", desc: "Walk the laneways of the Sonar Quila." },
                        { time: "01:00 PM", title: "Patwon Ki Haveli", desc: "Intricate stone carving masterpiece." },
                        { time: "04:30 PM", title: "Sunset at Vyas Chhatri", desc: "Golden hour photography spot.", isSignature: true },
                        { time: "07:00 PM", title: "Govt. Bhang Shop", desc: "Cultural experience near the fort.", isSignature: true },
                        { time: "08:30 PM", title: "Leisure Dinner", desc: "Try local Ker Sangri." }
                    ]
                },
                {
                    day: 6,
                    city: "Thar Desert",
                    coords: [26.6150, 70.7300],
                    title: "Dunes & Stars",
                    image: "https://images.unsplash.com/photo-1542302306-03f47e30733d?auto=format&fit=crop&w=800&q=80",
                    color: "bg-stone-800",
                    travel: "Jeep Transfer (Khuri or Sam)",
                    note: "Choose Khuri for privacy, Sam for adventure.",
                    stayType: "Desert Camp (Khuri or Sam)",
                    stayDesc: "Luxury tents or sleeping under the open sky.",
                    schedule: [
                        { time: "02:00 PM", title: "Transfer to Dunes", desc: "Jeep ride to your desert camp." },
                        { time: "05:00 PM", title: "Private Camel Safari", desc: "Deep desert privacy away from tourist spots.", isSignature: true },
                        { time: "07:00 PM", title: "Sunset on Quiet Dunes", desc: "Watch the sun dip below the sand." },
                        { time: "09:00 PM", title: "Bonfire & Folk Music", desc: "Traditional Rajasthani performance." },
                        { time: "11:00 PM", title: "Sleep Under Stars", desc: "Open-air sleeping on dunes (weather permitting).", isSignature: true }
                    ]
                },
                {
                    day: 7,
                    city: "Departure",
                    coords: [26.9124, 75.7873], // Back to Jaipur
                    title: "Journey Home",
                    image: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?auto=format&fit=crop&w=800&q=80",
                    color: "bg-slate-800",
                    travel: "Flight: Jaisalmer → Jaipur → Kolkata",
                    note: "Check flight schedules as JSA flights are seasonal.",
                    stayType: "Home Sweet Home",
                    stayDesc: "End of a beautiful journey.",
                    schedule: [
                        { time: "10:00 AM", title: "Airport Transfer", desc: "Drive to Jaisalmer Airport (JSA)." },
                        { time: "12:30 PM", title: "Flight to Jaipur", desc: "Short domestic flight." },
                        { time: "03:00 PM", title: "Layover in Jaipur", desc: "Grab a quick meal or shop at airport." },
                        { time: "05:30 PM", title: "Flight to Kolkata", desc: "Board connection to CCU." },
                        { time: "08:00 PM", title: "Arrival in Kolkata", desc: "Safe travels home!" }
                    ]
                }
            ]
        };

        // ==========================================
        //  END CONFIGURATION
        // ==========================================

        // --- Components Defined Outside ---

        const WelcomeCard = ({ data, onNext, onShowInfo }) => (
            <div className="h-full flex flex-col bg-stone-900 text-white relative overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-rose-900 to-stone-900 opacity-50"></div>
                <div className="absolute top-0 right-0 w-64 h-64 bg-rose-500/20 rounded-full blur-3xl -mr-16 -mt-16"></div>
                
                <div className="relative z-10 flex-1 flex flex-col justify-center p-8 text-center">
                    <div className="mx-auto bg-white/10 backdrop-blur-md p-4 rounded-full mb-6 w-fit">
                        <Heart className="w-8 h-8 text-rose-300 fill-current animate-pulse" />
                    </div>
                    <div className="uppercase tracking-widest text-rose-300 text-sm font-bold mb-4">Honeymoon Plan For</div>
                    <h1 className="text-4xl font-serif font-bold mb-2 text-white">{data.coupleName}</h1>
                    <div className="h-1 w-20 bg-rose-500 mx-auto my-6 rounded-full"></div>
                    <p className="text-stone-300 text-lg mb-8 font-light">
                        A {data.duration} journey through the royal lands of Rajasthan.
                    </p>
                    
                    <div className="flex justify-center gap-2 text-sm text-stone-400 mb-12">
                        <span className="flex items-center gap-1"><Plane size={14}/> {data.startCity}</span>
                        <span>•</span>
                        <span className="flex items-center gap-1"><MapIcon size={14}/> {data.routeSummary}</span>
                    </div>

                    <div className="flex flex-col gap-3 px-4">
                        <button 
                            onClick={onNext}
                            className="w-full bg-rose-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-rose-900/50 flex items-center justify-center gap-2 active:scale-95 transition-transform"
                        >
                            Start Planning <ArrowRight className="w-5 h-5" />
                        </button>
                        <button 
                            onClick={onShowInfo}
                            className="w-full bg-white/10 text-white py-3 rounded-2xl font-medium backdrop-blur-sm flex items-center justify-center gap-2"
                        >
                            <AlertTriangle className="w-4 h-4" /> Essentials & Tips
                        </button>
                    </div>
                </div>
                <div className="p-6 text-center text-white/30 text-xs">
                    Swipe to navigate &rarr;
                </div>
            </div>
        );

        const JourneyCard = ({ data }) => (
            <div className="h-full flex flex-col bg-stone-900 relative overflow-hidden">
                <div className="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-rose-950 to-stone-900">
                    <div className="w-full h-full absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"></div>
                    <Heart className="w-64 h-64 text-rose-500/10 fill-current animate-pulse duration-[3000ms]" />
                </div>

                <div className="absolute inset-0 flex items-center justify-center p-8 text-center z-10">
                    <div className="bg-white/5 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl transform rotate-1 max-w-sm">
                        <Quote className="w-8 h-8 text-rose-300 fill-current mb-4 mx-auto opacity-80" />
                        <h2 className="text-xl md:text-2xl font-serif font-bold text-white leading-relaxed italic mb-6">
                            "{data.quote}"
                        </h2>
                        <div className="flex justify-center items-center gap-2">
                            <div className="h-px w-8 bg-rose-300/50"></div>
                            <Heart className="w-4 h-4 text-rose-300 fill-current" />
                            <div className="h-px w-8 bg-rose-300/50"></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const RouteCard = ({ itinerary, onJumpToDay }) => {
            const mapContainerRef = useRef(null);
            const mapInstance = useRef(null);

            useEffect(() => {
                if (mapInstance.current || !mapContainerRef.current) return;

                const map = L.map(mapContainerRef.current, {
                    center: [25.5, 73.5], 
                    zoom: 6,
                    zoomControl: false,
                    attributionControl: false
                });
                
                mapInstance.current = map;

                L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                    attribution: '&copy; CARTO',
                    subdomains: 'abcd',
                    maxZoom: 19
                }).addTo(map);

                const createIcon = (label, day, colorClass) => {
                    let cssColor = '#e11d48'; 
                    if (colorClass.includes('amber')) cssColor = '#f59e0b';
                    if (colorClass.includes('emerald')) cssColor = '#059669';
                    if (colorClass.includes('slate')) cssColor = '#475569';
                    if (colorClass.includes('stone')) cssColor = '#57534e';
                    if (colorClass.includes('blue')) cssColor = '#1e40af';
                    if (colorClass.includes('rose-900')) cssColor = '#881337';

                    return L.divIcon({
                        className: 'custom-div-icon',
                        html: `
                            <div class="flex flex-col items-center -mt-8 transition-transform hover:scale-110 cursor-pointer">
                                <div class="px-2 py-1 bg-white/90 backdrop-blur-sm rounded-md shadow-md text-[10px] font-bold mb-1 whitespace-nowrap border border-stone-200 text-stone-700">${label}</div>
                                <div class="w-4 h-4 rounded-full border-2 border-white shadow-sm" style="background-color: ${cssColor}"></div>
                            </div>
                        `,
                        iconSize: [80, 40],
                        iconAnchor: [40, 30]
                    });
                };

                const markers = [];
                itinerary.forEach((day) => {
                    const marker = L.marker(day.coords, { 
                        icon: createIcon(`${day.city} (Day ${day.day})`, day.day, day.color) 
                    }).addTo(map);

                    marker.on('click', () => {
                        onJumpToDay(day.day + 1); 
                    });
                    markers.push(day.coords);
                });

                if (markers.length > 1) {
                    L.polyline(markers, {
                        color: '#e11d48', 
                        weight: 3,
                        opacity: 0.8,
                        dashArray: '5, 10'
                    }).addTo(map);

                    const bounds = L.latLngBounds(markers);
                    map.fitBounds(bounds, { padding: [50, 50] });
                }

            }, [itinerary, onJumpToDay]);

            return (
                <div className="h-full flex flex-col bg-stone-50 relative">
                    <div ref={mapContainerRef} className="flex-1 w-full bg-stone-100 z-0" />
                </div>
            );
        };

        const DayCard = ({ data }) => {
            const [showScrollHint, setShowScrollHint] = useState(true);

            useEffect(() => {
                setShowScrollHint(true);
                const timer = setTimeout(() => {
                    setShowScrollHint(false);
                }, 2500);
                return () => clearTimeout(timer);
            }, [data]);

            return (
                <div className="h-full flex flex-col bg-stone-50 relative">
                    {/* Header with Image Support */}
                    <div className={`relative shrink-0 shadow-md z-10 pt-28 px-6 pb-12 text-white overflow-hidden ${!data.image ? data.color : ''}`}>
                        {data.image && (
                            <>
                                <img src={data.image} className="absolute inset-0 w-full h-full object-cover" alt={data.city} />
                                <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/40"></div>
                            </>
                        )}
                        
                        <div className="relative z-10">
                            <div className="text-sm font-medium opacity-90 uppercase tracking-wider mb-1 text-rose-200">Day {data.day}</div>
                            <h2 className="text-4xl font-serif font-bold shadow-black drop-shadow-lg">{data.city}</h2>
                            <div className="flex items-center gap-2 mt-2 text-white/90 text-sm font-medium">
                                <Star className="w-4 h-4 fill-current text-rose-400" />
                                {data.title}
                            </div>
                        </div>
                    </div>

                    {/* Scroll Hint */}
                    <div className={`absolute bottom-24 left-1/2 -translate-x-1/2 z-20 transition-opacity duration-700 pointer-events-none ${showScrollHint ? 'opacity-100' : 'opacity-0'}`}>
                        <div className="bg-rose-500/90 text-white px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1 text-xs font-bold animate-bounce">
                            Scroll <ChevronDown size={14} />
                        </div>
                    </div>

                    {/* Scrollable Content */}
                    <div className="flex-1 overflow-y-auto px-4 pb-24 bg-stone-50 hide-scrollbar">
                        <div className="space-y-6 pt-8"> 
                            
                            {/* Logistics */}
                            <div className="bg-white p-4 rounded-2xl shadow-sm border border-stone-100 flex items-start gap-3">
                                <div className="bg-stone-100 p-2 rounded-full text-stone-600">
                                    <Car size={18} />
                                </div>
                                <div>
                                    <div className="text-xs font-bold text-stone-400 uppercase">Logistics</div>
                                    <div className="text-stone-800 font-medium text-sm">{data.travel}</div>
                                    {data.note && (
                                        <div className="text-amber-600 text-xs mt-1 flex items-center gap-1">
                                            <AlertTriangle size={10} /> {data.note}
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Stay */}
                            <div>
                                <div className="text-xs font-bold text-stone-400 uppercase mb-2 ml-2">Recommended Stay</div>
                                <div className="bg-white p-4 rounded-xl border-l-4 border-rose-400 shadow-sm flex flex-col gap-1">
                                    <div className="flex items-center gap-2 font-bold text-stone-800 text-sm">
                                        <BedDouble className="w-4 h-4 text-rose-500" />
                                        {data.stayType}
                                    </div>
                                    <div className="text-xs text-stone-500 pl-6">{data.stayDesc}</div>
                                </div>
                            </div>

                            {/* Timeline Schedule - Simplified List */}
                            <div>
                                <div className="text-xs font-bold text-stone-400 uppercase mb-3 ml-1">Today's Timeline</div>
                                <div className="space-y-3">
                                    {data.schedule.map((item, idx) => (
                                        <div 
                                            key={idx} 
                                            className={`
                                                flex gap-4 p-3 rounded-lg transition-all
                                                ${item.isSignature ? 'bg-rose-50 border border-rose-100' : 'bg-white border border-stone-100 shadow-sm'}
                                            `}
                                        >
                                            {/* Time Column */}
                                            <div className="w-16 shrink-0 flex flex-col items-center justify-center border-r border-stone-200 pr-3">
                                                <div className={`text-xs font-bold ${item.isSignature ? 'text-rose-500' : 'text-stone-400'}`}>
                                                    {item.time.split(' ')[0]}
                                                </div>
                                                <div className={`text-[10px] font-medium uppercase ${item.isSignature ? 'text-rose-400' : 'text-stone-300'}`}>
                                                    {item.time.split(' ')[1]}
                                                </div>
                                            </div>

                                            {/* Content Column */}
                                            <div className="flex-1">
                                                <div className="flex items-center gap-2 mb-1">
                                                    {item.isSignature && <Star size={12} className="text-rose-500 fill-current" />}
                                                    <h4 className={`text-sm font-bold ${item.isSignature ? 'text-rose-900' : 'text-stone-800'}`}>
                                                        {item.title}
                                                    </h4>
                                                </div>
                                                <p className={`text-xs leading-relaxed ${item.isSignature ? 'text-rose-700' : 'text-stone-500'}`}>
                                                    {item.desc}
                                                </p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            );
        };

        // --- Main App ---

        const HoneymoonPlanner = () => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [showInfoModal, setShowInfoModal] = useState(false);

            // Config Data
            const { meta, journeyCard, itinerary } = tripData;
            const totalCards = 2 + itinerary.length + 1; 

            // Touch handling
            const touchStartX = useRef(null);
            const touchEndX = useRef(null);
            const minSwipeDistance = 50;

            const onTouchStart = (e) => {
                touchEndX.current = null;
                touchStartX.current = e.targetTouches[0].clientX;
            };

            const onTouchMove = (e) => {
                touchEndX.current = e.targetTouches[0].clientX;
            };

            const onTouchEnd = () => {
                if (!touchStartX.current || !touchEndX.current) return;
                const distance = touchStartX.current - touchEndX.current;
                const isLeftSwipe = distance > minSwipeDistance;
                const isRightSwipe = distance < -minSwipeDistance;

                if (isLeftSwipe && currentIndex < totalCards - 1) setCurrentIndex(prev => prev + 1);
                if (isRightSwipe && currentIndex > 0) setCurrentIndex(prev => prev - 1);
            };

            const nextCard = () => {
                if (currentIndex < totalCards - 1) setCurrentIndex(prev => prev + 1);
            };

            const prevCard = () => {
                if (currentIndex > 0) setCurrentIndex(prev => prev - 1);
            };

            const getHeaderText = () => {
                if (currentIndex === 1) return "Our Journey";
                if (currentIndex === totalCards - 1) return "Route Map";
                return `Day ${currentIndex - 1} of ${itinerary.length}`;
            };

            return (
                <div 
                    className="h-screen w-full bg-stone-100 flex flex-col overflow-hidden font-sans select-none"
                    onTouchStart={onTouchStart}
                    onTouchMove={onTouchMove}
                    onTouchEnd={onTouchEnd}
                >
                    <div className="flex-1 relative overflow-hidden max-w-md mx-auto w-full bg-stone-50 shadow-2xl md:my-4 md:rounded-[3rem] md:border-8 md:border-stone-800">
                        
                        {currentIndex > 0 && (
                            <div className="absolute top-0 left-0 right-0 z-20 flex justify-between items-center p-4 pt-6 bg-gradient-to-b from-black/40 to-transparent pointer-events-none">
                                <button 
                                    onClick={prevCard}
                                    className="pointer-events-auto p-2 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/40"
                                >
                                    <ChevronLeft size={20} />
                                </button>
                                <div className="text-white font-bold text-sm drop-shadow-md">
                                    {getHeaderText()}
                                </div>
                                <button 
                                    onClick={nextCard}
                                    className={`pointer-events-auto p-2 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/40 ${currentIndex === totalCards - 1 ? 'opacity-0' : ''}`}
                                >
                                    <ChevronRight size={20} />
                                </button>
                            </div>
                        )}

                        <div className="h-full w-full">
                            {currentIndex === 0 && <WelcomeCard data={meta} onNext={nextCard} onShowInfo={() => setShowInfoModal(true)} />}
                            {currentIndex === 1 && <JourneyCard data={journeyCard} />}
                            {currentIndex >= 2 && currentIndex < totalCards - 1 && <DayCard 
                                data={itinerary[currentIndex - 2]} 
                            />}
                            {currentIndex === totalCards - 1 && <RouteCard itinerary={itinerary} onJumpToDay={setCurrentIndex} />}
                        </div>

                    </div>

                    <div className="h-12 md:h-auto shrink-0 flex items-center justify-center gap-2 pb-4 md:pb-0 max-w-md mx-auto w-full">
                        {Array.from({ length: totalCards }).map((_, idx) => (
                            <button 
                                key={idx}
                                onClick={() => setCurrentIndex(idx)}
                                className={`transition-all duration-300 rounded-full ${
                                    currentIndex === idx 
                                        ? 'w-6 h-2 bg-stone-800' 
                                        : 'w-2 h-2 bg-stone-300 hover:bg-stone-400'
                                }`}
                            />
                        ))}
                    </div>

                    {showInfoModal && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                            <div className="bg-white rounded-3xl max-w-sm w-full p-6 shadow-2xl max-h-[80vh] overflow-y-auto animate-in fade-in zoom-in duration-200">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-xl font-serif font-bold text-stone-800">Essentials & Tips</h3>
                                    <button onClick={() => setShowInfoModal(false)} className="p-2 bg-stone-100 rounded-full"><Users size={18}/></button>
                                </div>
                                
                                <div className="space-y-4">
                                    <div className="bg-amber-50 p-3 rounded-xl border border-amber-100">
                                        <h4 className="font-bold text-amber-800 text-xs uppercase mb-1 flex items-center gap-1"><AlertTriangle size={12}/> Avoid Crowds</h4>
                                        <p className="text-xs text-amber-900 leading-relaxed">
                                            Popular spots get packed by 10 AM. <strong>Go early (8 AM)</strong>. Avoid Christmas/New Year weeks.
                                        </p>
                                    </div>

                                    <div className="bg-stone-50 p-3 rounded-xl border border-stone-100">
                                        <h4 className="font-bold text-stone-600 text-xs uppercase mb-1 flex items-center gap-1"><ShoppingBag size={12}/> Packing</h4>
                                        <ul className="text-xs text-stone-500 list-disc pl-4 space-y-1">
                                            <li>Comfortable Walking Shoes</li>
                                            <li>Jackets (Desert nights are cold)</li>
                                            <li>Sunscreen & Hats</li>
                                            <li>Bright/White clothes for photos</li>
                                        </ul>
                                    </div>

                                    <div className="bg-stone-50 p-3 rounded-xl border border-stone-100">
                                        <h4 className="font-bold text-stone-600 text-xs uppercase mb-1 flex items-center gap-1"><Navigation size={12}/> Transport</h4>
                                        <ul className="text-xs text-stone-500 list-disc pl-4 space-y-1">
                                            <li><strong>Sleeper Buses:</strong> Best for inter-city.</li>
                                            <li><strong>Scooty:</strong> Best for city exploration.</li>
                                            <li><strong>Auto:</strong> Bargain for full-day hire.</li>
                                        </ul>
                                    </div>
                                </div>

                                <button 
                                    onClick={() => setShowInfoModal(false)}
                                    className="w-full mt-6 bg-stone-800 text-white py-3 rounded-xl font-bold"
                                >
                                    Close
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<HoneymoonPlanner />);
    </script>
</body>
</html>
