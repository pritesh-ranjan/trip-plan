<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rajasthan Honeymoon Planner</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>

    <!-- Import Map for React and Icons -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>

    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <style>
        /* Custom Marker Styles for Leaflet */
        .custom-div-icon {
            background: transparent;
            border: none;
        }
        .leaflet-container {
            background: #f5f5f4; /* matches bg-stone-100 */
            font-family: sans-serif;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="bg-stone-100">
    <div id="root"></div>

    <!-- Application Script -->
    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Plane, Car, Heart, Sun, Moon, Coffee, Camera, Info, 
            CheckCircle, Star, Users, Map as MapIcon, ChevronRight, 
            ChevronLeft, Navigation, Edit3, ShoppingBag, Utensils, 
            AlertTriangle, ArrowRight, BedDouble, Quote
        } from 'lucide-react';

        // --- Components Defined Outside ---

        const WelcomeCard = ({ coupleName, onNext, onShowInfo }) => (
            <div className="h-full flex flex-col bg-stone-900 text-white relative overflow-hidden">
                <div className="absolute inset-0 bg-gradient-to-br from-rose-900 to-stone-900 opacity-50"></div>
                <div className="absolute top-0 right-0 w-64 h-64 bg-rose-500/20 rounded-full blur-3xl -mr-16 -mt-16"></div>
                
                <div className="relative z-10 flex-1 flex flex-col justify-center p-8 text-center">
                    <div className="mx-auto bg-white/10 backdrop-blur-md p-4 rounded-full mb-6 w-fit">
                        <Heart className="w-8 h-8 text-rose-300 fill-current animate-pulse" />
                    </div>
                    <div className="uppercase tracking-widest text-rose-300 text-sm font-bold mb-4">Trip Plan For</div>
                    <h1 className="text-4xl font-serif font-bold mb-2 text-white">{coupleName}</h1>
                    <div className="h-1 w-20 bg-rose-500 mx-auto my-6 rounded-full"></div>
                    <p className="text-stone-300 text-lg mb-8 font-light">
                        A 7-Day journey through the royal lands of Rajasthan.
                    </p>
                    
                    <div className="flex justify-center gap-2 text-sm text-stone-400 mb-12">
                        <span className="flex items-center gap-1"><Plane size={14}/> Kolkata</span>
                        <span>•</span>
                        <span className="flex items-center gap-1"><MapIcon size={14}/> Jaipur-Jaisalmer-Mt Abu</span>
                    </div>

                    <div className="flex flex-col gap-3 px-4">
                        <button 
                            onClick={onNext}
                            className="w-full bg-rose-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-rose-900/50 flex items-center justify-center gap-2 active:scale-95 transition-transform"
                        >
                            Start Planning <ArrowRight className="w-5 h-5" />
                        </button>
                        <button 
                            onClick={onShowInfo}
                            className="w-full bg-white/10 text-white py-3 rounded-2xl font-medium backdrop-blur-sm flex items-center justify-center gap-2"
                        >
                            <AlertTriangle className="w-4 h-4" /> Essentials & Tips
                        </button>
                    </div>
                </div>
                <div className="p-6 text-center text-white/30 text-xs">
                    Swipe to navigate &rarr;
                </div>
            </div>
        );

        const CollageCard = () => (
            <div className="h-full flex flex-col bg-stone-900 relative overflow-hidden">
                {/* Simple Heart Background */}
                <div className="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-rose-950 to-stone-900">
                    <div className="w-full h-full absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"></div>
                    <Heart className="w-64 h-64 text-rose-500/10 fill-current animate-pulse duration-[3000ms]" />
                </div>

                {/* Overlay Quote */}
                <div className="absolute inset-0 flex items-center justify-center p-8 text-center z-10">
                    <div className="bg-white/5 backdrop-blur-md p-8 rounded-3xl border border-white/10 shadow-2xl transform rotate-1 max-w-sm">
                        <Quote className="w-8 h-8 text-rose-300 fill-current mb-4 mx-auto opacity-80" />
                        <h2 className="text-xl md:text-2xl font-serif font-bold text-white leading-relaxed italic mb-6">
                            "Every palace, every sunset, every sand dune — made perfect because you’re with me."
                        </h2>
                        <div className="flex justify-center items-center gap-2">
                            <div className="h-px w-8 bg-rose-300/50"></div>
                            <Heart className="w-4 h-4 text-rose-300 fill-current" />
                            <div className="h-px w-8 bg-rose-300/50"></div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const RouteCard = ({ onJumpToDay }) => {
            const mapContainerRef = useRef(null);
            const mapInstance = useRef(null);

            useEffect(() => {
                if (mapInstance.current || !mapContainerRef.current) return;

                const map = L.map(mapContainerRef.current, {
                    center: [25.5, 73.5], 
                    zoom: 6,
                    zoomControl: false,
                    attributionControl: false
                });
                
                mapInstance.current = map;

                L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                    attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
                    subdomains: 'abcd',
                    maxZoom: 19
                }).addTo(map);

                const locations = [
                    { coords: [22.5726, 88.3639], label: "Kolkata", day: 0, color: 'bg-rose-900' },
                    { coords: [26.9124, 75.7873], label: "Jaipur (D1-2)", day: 2, color: 'bg-rose-600' },
                    { coords: [26.9157, 70.9083], label: "Jaisalmer (D3)", day: 4, color: 'bg-amber-500' },
                    { coords: [26.6150, 70.7300], label: "Khuri (D4)", day: 5, color: 'bg-stone-600' },
                    { coords: [24.5926, 72.7156], label: "Mt Abu (D5-6)", day: 6, color: 'bg-emerald-600' },
                    { coords: [23.0225, 72.5714], label: "Ahmedabad (D7)", day: 8, color: 'bg-slate-600' }
                ];

                const createIcon = (label, day, colorClass) => {
                    return L.divIcon({
                        className: 'custom-div-icon',
                        html: `
                            <div class="flex flex-col items-center -mt-8 transition-transform hover:scale-110 cursor-pointer">
                                <div class="px-2 py-1 bg-white/90 backdrop-blur-sm rounded-md shadow-md text-[10px] font-bold mb-1 whitespace-nowrap border border-stone-200 text-stone-700">${label}</div>
                                <div class="w-4 h-4 ${colorClass} rounded-full border-2 border-white shadow-sm"></div>
                            </div>
                        `,
                        iconSize: [80, 40],
                        iconAnchor: [40, 30]
                    });
                };

                locations.forEach(loc => {
                    const marker = L.marker(loc.coords, { 
                        icon: createIcon(loc.label, loc.day, loc.color) 
                    }).addTo(map);

                    if (loc.day > 0) {
                        marker.on('click', () => {
                            onJumpToDay(loc.day);
                        });
                    }
                });

                L.polyline([locations[0].coords, locations[1].coords], {
                    color: '#881337', 
                    weight: 2,
                    dashArray: '5, 10',
                    opacity: 0.5
                }).addTo(map);

                const roadPath = [
                    locations[1].coords,
                    locations[2].coords,
                    locations[3].coords,
                    locations[4].coords,
                    locations[5].coords
                ];
                L.polyline(roadPath, {
                    color: '#e11d48', 
                    weight: 3,
                    opacity: 0.8
                }).addTo(map);

                L.polyline([locations[5].coords, locations[0].coords], {
                    color: '#881337',
                    weight: 2,
                    dashArray: '5, 10',
                    opacity: 0.5
                }).addTo(map);

                const bounds = L.latLngBounds([
                    locations[1].coords, 
                    locations[2].coords, 
                    locations[5].coords 
                ]);
                map.fitBounds(bounds, { padding: [50, 80] });

            }, [onJumpToDay]);

            return (
                <div className="h-full flex flex-col bg-stone-50 relative">
                    <div ref={mapContainerRef} className="flex-1 w-full bg-stone-100 z-0" />
                </div>
            );
        };

        const DayCard = ({ data, tripPace, onPaceChange }) => (
            <div className="h-full flex flex-col bg-stone-50">
                {/* Header */}
                <div className={`${data.color} pt-28 px-6 pb-12 text-white relative shrink-0 shadow-md z-10`}>
                    <div className="absolute top-20 right-6 opacity-20">
                        {data.icon}
                    </div>
                    <div className="text-sm font-medium opacity-80 uppercase tracking-wider mb-1">Day {data.day}</div>
                    <h2 className="text-3xl font-serif font-bold">{data.city}</h2>
                    <div className="flex items-center gap-2 mt-2 text-white/90 text-sm">
                        <Star className="w-4 h-4 fill-current" />
                        {data.title}
                    </div>
                </div>

                {/* Scrollable Content */}
                <div className="flex-1 overflow-y-auto px-4 pb-24 bg-stone-50 hide-scrollbar">
                    <div className="space-y-4 pt-8"> 
                        
                        <div className="bg-white p-4 rounded-2xl shadow-sm border border-stone-100 flex items-start gap-3">
                            <div className="bg-stone-100 p-2 rounded-full text-stone-600">
                                <Car size={18} />
                            </div>
                            <div>
                                <div className="text-xs font-bold text-stone-400 uppercase">Logistics</div>
                                <div className="text-stone-800 font-medium text-sm">{data.travel}</div>
                                {data.note && (
                                    <div className="text-amber-600 text-xs mt-1 flex items-center gap-1">
                                        <AlertTriangle size={10} /> {data.note}
                                    </div>
                                )}
                            </div>
                        </div>

                        <div>
                            <div className="text-xs font-bold text-stone-400 uppercase mb-2 ml-2">Recommended Stay</div>
                            <div className="bg-white p-4 rounded-xl border-l-4 border-rose-400 shadow-sm flex flex-col gap-1">
                                <div className="flex items-center gap-2 font-bold text-stone-800 text-sm">
                                    <BedDouble className="w-4 h-4 text-rose-500" />
                                    {data.stayType}
                                </div>
                                <div className="text-xs text-stone-500 pl-6">{data.stayDesc}</div>
                            </div>
                        </div>

                        <div>
                            <div className="text-xs font-bold text-stone-400 uppercase mb-2 ml-2">Signature Experiences</div>
                            <div className="grid gap-2">
                                {data.activityOptions.map((act, i) => (
                                    <div key={i} className="bg-rose-50/50 p-3 rounded-xl border border-rose-100 flex justify-between items-center shadow-sm">
                                        <div>
                                            <div className="font-bold text-rose-900 text-sm">{act.name}</div>
                                            <div className="text-xs text-rose-700/80">{act.desc}</div>
                                        </div>
                                        <div className="text-xs font-bold bg-white text-rose-600 px-2 py-1 rounded-md border border-rose-100 shrink-0">
                                            {act.time}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        <div className="pt-2">
                            <div className="flex justify-between items-center mb-3 px-2">
                                <div className="text-xs font-bold text-stone-400 uppercase">Daily Schedule</div>
                                <div className="flex bg-stone-200 rounded-lg p-0.5">
                                    <button 
                                        type="button"
                                        onClick={(e) => onPaceChange(e, 'relaxed')}
                                        className={`px-3 py-1 rounded-md text-[10px] font-bold transition-all ${tripPace === 'relaxed' ? 'bg-white text-stone-800 shadow-sm' : 'text-stone-500'}`}
                                    >
                                        RELAXED
                                    </button>
                                    <button 
                                        type="button"
                                        onClick={(e) => onPaceChange(e, 'adventurous')}
                                        className={`px-3 py-1 rounded-md text-[10px] font-bold transition-all ${tripPace === 'adventurous' ? 'bg-stone-800 text-white shadow-sm' : 'text-stone-500'}`}
                                    >
                                        ACTIVE
                                    </button>
                                </div>
                            </div>

                            <div className="bg-white rounded-2xl p-4 border border-stone-200 shadow-sm space-y-4">
                                {data.baseActivities[tripPace].map((item, idx) => (
                                    <div key={idx} className="flex items-center gap-3">
                                        <div className="w-2 h-2 rounded-full bg-stone-300"></div>
                                        <div className="flex-1 text-sm text-stone-700 font-medium">{item.name}</div>
                                        <div className="text-xs text-stone-400 bg-stone-50 px-2 py-1 rounded-md">{item.time}</div>
                                    </div>
                                ))}
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        );

        // --- Main App ---

        const HoneymoonPlanner = () => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [tripPace, setTripPace] = useState('relaxed'); 
            const [showInfoModal, setShowInfoModal] = useState(false);

            const coupleName = "Shalini & Pritesh";
            const totalCards = 10; // Welcome(0) + Collage(1) + Days(2-8) + Map(9)

            // Touch handling
            const touchStartX = useRef(null);
            const touchEndX = useRef(null);
            const minSwipeDistance = 50;

            const onTouchStart = (e) => {
                touchEndX.current = null;
                touchStartX.current = e.targetTouches[0].clientX;
            };

            const onTouchMove = (e) => {
                touchEndX.current = e.targetTouches[0].clientX;
            };

            const onTouchEnd = () => {
                if (!touchStartX.current || !touchEndX.current) return;
                const distance = touchStartX.current - touchEndX.current;
                const isLeftSwipe = distance > minSwipeDistance;
                const isRightSwipe = distance < -minSwipeDistance;

                if (isLeftSwipe && currentIndex < totalCards - 1) setCurrentIndex(prev => prev + 1);
                if (isRightSwipe && currentIndex > 0) setCurrentIndex(prev => prev - 1);
            };

            const nextCard = () => {
                if (currentIndex < totalCards - 1) setCurrentIndex(prev => prev + 1);
            };

            const prevCard = () => {
                if (currentIndex > 0) setCurrentIndex(prev => prev - 1);
            };

            const handlePaceChange = (e, pace) => {
                e.preventDefault();
                e.stopPropagation();
                setTripPace(pace);
            };

            const getHeaderText = () => {
                if (currentIndex === 1) return "Our Journey";
                if (currentIndex === 9) return "Route Map";
                return `Day ${currentIndex - 1} of 7`;
            };

            // Itinerary Data
            const itinerary = [
                {
                day: 1,
                city: "Jaipur",
                title: "Royal Welcome",
                travel: "Flight: Kolkata (CCU) → Jaipur (JAI)",
                stayType: "Boutique Heritage Haveli",
                stayDesc: "Stay in a restored mansion to experience the authentic royal vibe of the Pink City.",
                activityOptions: [
                    { name: "Sunset at Tattoo Cafe", desc: "Best Hawa Mahal view.", time: "1.5 hrs" },
                    { name: "Dinner at 1135 AD", desc: "Royal dining inside Amber Fort.", time: "2 hrs" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Private Airport Transfer", time: "1 hr" },
                    { name: "Check-in & Leisure Lunch", time: "2 hrs" },
                    { name: "Sunset at Nahargarh Fort", time: "2 hrs" }
                    ],
                    adventurous: [
                    { name: "Rent a Scooty", time: "30 mins" },
                    { name: "Visit Albert Hall Museum", time: "1.5 hrs" },
                    { name: "Evening Street Food Walk", time: "2 hrs" }
                    ]
                },
                icon: <Plane className="w-6 h-6" />,
                color: "bg-rose-900",
                note: "Start early to beat the city traffic."
                },
                {
                day: 2,
                city: "Jaipur",
                title: "Forts & Markets",
                travel: "Scooty Rental or Private Cab",
                stayType: "Boutique Heritage Haveli",
                stayDesc: "Continue your royal experience in the heart of the city.",
                activityOptions: [
                    { name: "Composite Ticket Tour", desc: "Cover Amber, Nahargarh, Hawa Mahal.", time: "5-6 hrs" },
                    { name: "Hot Air Balloon Ride", desc: "Sunrise view over the forts.", time: "3 hrs" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "City Palace (Royal Tour)", time: "2 hrs" },
                    { name: "Jantar Mantar", time: "1 hr" },
                    { name: "Shopping: Bapu Bazaar", time: "2 hrs" }
                    ],
                    adventurous: [
                    { name: "Amber Fort (Go Early: 8 AM)", time: "3 hrs" },
                    { name: "Panna Meena ka Kund", time: "45 mins" },
                    { name: "Jaigarh Fort Cannon", time: "1 hr" }
                    ]
                },
                icon: <Camera className="w-6 h-6" />,
                color: "bg-pink-800",
                note: "Wear comfortable shoes for fort walking."
                },
                {
                day: 3,
                city: "Jaisalmer",
                title: "The Golden Fort",
                travel: "Flight or Sleeper Bus (Overnight)",
                stayType: "Heritage Stay Inside Fort",
                stayDesc: "Live like royalty within the only living fort in the world.",
                activityOptions: [
                    { name: "Sunset at Jostel Cafe", desc: "Best sunset view from fort walls.", time: "1.5 hrs" },
                    { name: "Govt. Bhang Shop", desc: "Cultural experience near fort.", time: "30 mins" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Relaxed Fort Walk", time: "2 hrs" },
                    { name: "Patwon Ki Haveli", time: "1 hr" },
                    { name: "Rooftop Dinner", time: "2 hrs" }
                    ],
                    adventurous: [
                    { name: "Explore Fort Laneways", time: "2.5 hrs" },
                    { name: "Rent a Bike for City", time: "30 mins" },
                    { name: "Gadisar Lake Boating", time: "1 hr" }
                    ]
                },
                icon: <Sun className="w-6 h-6" />,
                color: "bg-amber-600",
                note: "Sleeper bus saves a hotel night."
                },
                {
                day: 4,
                city: "Thar Desert",
                title: "Dunes & Stars",
                travel: "Jeep to Khuri (Not Sam)",
                stayType: "Remote Desert Camp (Khuri)",
                stayDesc: "Escape the crowds of Sam Dunes for a private starry night experience.",
                activityOptions: [
                    { name: "Sleep Under Stars", desc: "Open-air sleeping on dunes.", time: "Overnight" },
                    { name: "Private Camel Safari", desc: "Deep desert privacy.", time: "1.5 hrs" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Village Walk", time: "1.5 hrs" },
                    { name: "Sunset on Quiet Dunes", time: "1.5 hrs" },
                    { name: "Bonfire & Folk Music", time: "2 hrs" }
                    ],
                    adventurous: [
                    { name: "Quad Biking", time: "1 hr" },
                    { name: "Parasailing", time: "30 mins" },
                    { name: "Remote Dune Trek", time: "2 hrs" }
                    ]
                },
                icon: <Moon className="w-6 h-6" />,
                color: "bg-stone-800",
                note: "Khuri offers better privacy than Sam."
                },
                {
                day: 5,
                city: "Mount Abu",
                title: "Hill Oasis",
                travel: "Cab/Bus: Jaisalmer → Mt Abu (~7 hrs)",
                stayType: "Colonial Heritage Bungalow",
                stayDesc: "Charming British-era architecture with panoramic hill views.",
                activityOptions: [
                    { name: "Dinner at Mulberry Tree", desc: "Fine dining garden setting.", time: "2 hrs" },
                    { name: "Sunset at Toad Rock", desc: "Trek for best view.", time: "1.5 hrs" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Scenic Drive", time: "7 hrs" },
                    { name: "Check-in & Refresh", time: "1 hr" },
                    { name: "Nakki Lake Stroll", time: "1 hr" }
                    ],
                    adventurous: [
                    { name: "Scenic Drive", time: "6 hrs" },
                    { name: "Stop at Barmer", time: "1 hr" },
                    { name: "Mall Road Night Walk", time: "1 hr" }
                    ]
                },
                icon: <Car className="w-6 h-6" />,
                color: "bg-emerald-800",
                note: "Start early (7 AM) for the long drive."
                },
                {
                day: 6,
                city: "Mount Abu",
                title: "Temples",
                travel: "Rent a Bike or Cab",
                stayType: "Colonial Heritage Bungalow",
                stayDesc: "Relax in the cool climate of the hills.",
                activityOptions: [
                    { name: "Private Boat Ride", desc: "Romantic ride on Nakki Lake.", time: "45 mins" },
                    { name: "Guru Shikhar Trek", desc: "Highest peak of Aravallis.", time: "2.5 hrs" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Dilwara Jain Temples", time: "2 hrs" },
                    { name: "Honeymoon Point", time: "1.5 hrs" },
                    { name: "Farewell Dinner", time: "2 hrs" }
                    ],
                    adventurous: [
                    { name: "Achalgarh Fort Trek", time: "2.5 hrs" },
                    { name: "Wildlife Sanctuary", time: "3 hrs" },
                    { name: "Trevor's Tank", time: "1.5 hrs" }
                    ]
                },
                icon: <Heart className="w-6 h-6" />,
                color: "bg-emerald-600",
                note: "Visit temples early to avoid crowds."
                },
                {
                day: 7,
                city: "Departure",
                title: "Journey Home",
                travel: "Cab to Ahmedabad → Fly to Kolkata",
                stayType: "Airport Transit Hotel",
                stayDesc: "Convenient stay if needed before flight.",
                activityOptions: [
                    { name: "Lunch at Patang (AMD)", desc: "Revolving restaurant views.", time: "1.5 hrs" },
                    { name: "Adalaj Stepwell", desc: "Ancient architecture.", time: "1 hr" }
                ],
                baseActivities: {
                    relaxed: [
                    { name: "Leisurely Breakfast", time: "1 hr" },
                    { name: "Drive to AMD", time: "5 hrs" },
                    { name: "Direct Flight", time: "2.5 hrs" }
                    ],
                    adventurous: [
                    { name: "Morning Temple", time: "1 hr" },
                    { name: "Drive to AMD", time: "5 hrs" },
                    { name: "Flight", time: "2.5 hrs" }
                    ]
                },
                icon: <Plane className="w-6 h-6" />,
                color: "bg-slate-800",
                note: "Ahmedabad offers direct flights."
                }
            ];

            return (
                <div 
                    className="h-screen w-full bg-stone-100 flex flex-col overflow-hidden font-sans select-none"
                    onTouchStart={onTouchStart}
                    onTouchMove={onTouchMove}
                    onTouchEnd={onTouchEnd}
                >
                    <div className="flex-1 relative overflow-hidden max-w-md mx-auto w-full bg-stone-50 shadow-2xl md:my-4 md:rounded-[3rem] md:border-8 md:border-stone-800">
                        
                        {currentIndex > 0 && (
                            <div className="absolute top-0 left-0 right-0 z-20 flex justify-between items-center p-4 pt-6 bg-gradient-to-b from-black/40 to-transparent pointer-events-none">
                                <button 
                                    onClick={prevCard}
                                    className="pointer-events-auto p-2 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/40"
                                >
                                    <ChevronLeft size={20} />
                                </button>
                                <div className="text-white font-bold text-sm drop-shadow-md">
                                    {getHeaderText()}
                                </div>
                                <button 
                                    onClick={nextCard}
                                    className={`pointer-events-auto p-2 rounded-full bg-white/20 backdrop-blur-md text-white hover:bg-white/40 ${currentIndex === totalCards - 1 ? 'opacity-0' : ''}`}
                                >
                                    <ChevronRight size={20} />
                                </button>
                            </div>
                        )}

                        <div className="h-full w-full">
                            {currentIndex === 0 && <WelcomeCard coupleName={coupleName} onNext={nextCard} onShowInfo={() => setShowInfoModal(true)} />}
                            {currentIndex === 1 && <CollageCard />}
                            {currentIndex >= 2 && currentIndex <= 8 && <DayCard 
                                data={itinerary[currentIndex - 2]} 
                                index={currentIndex} 
                                tripPace={tripPace}
                                onPaceChange={handlePaceChange}
                            />}
                            {currentIndex === 9 && <RouteCard onJumpToDay={setCurrentIndex} />}
                        </div>

                    </div>

                    <div className="h-12 md:h-auto shrink-0 flex items-center justify-center gap-2 pb-4 md:pb-0 max-w-md mx-auto w-full">
                        {Array.from({ length: totalCards }).map((_, idx) => (
                            <button 
                                key={idx}
                                onClick={() => setCurrentIndex(idx)}
                                className={`transition-all duration-300 rounded-full ${
                                    currentIndex === idx 
                                        ? 'w-6 h-2 bg-stone-800' 
                                        : 'w-2 h-2 bg-stone-300 hover:bg-stone-400'
                                }`}
                            />
                        ))}
                    </div>

                    {showInfoModal && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
                            <div className="bg-white rounded-3xl max-w-sm w-full p-6 shadow-2xl max-h-[80vh] overflow-y-auto animate-in fade-in zoom-in duration-200">
                                <div className="flex justify-between items-center mb-4">
                                    <h3 className="text-xl font-serif font-bold text-stone-800">Essentials & Tips</h3>
                                    <button onClick={() => setShowInfoModal(false)} className="p-2 bg-stone-100 rounded-full"><Users size={18}/></button>
                                </div>
                                
                                <div className="space-y-4">
                                    <div className="bg-amber-50 p-3 rounded-xl border border-amber-100">
                                        <h4 className="font-bold text-amber-800 text-xs uppercase mb-1 flex items-center gap-1"><AlertTriangle size={12}/> Avoid Crowds</h4>
                                        <p className="text-xs text-amber-900 leading-relaxed">
                                            Popular spots get packed by 10 AM. <strong>Go early (8 AM)</strong>. Avoid Christmas/New Year weeks.
                                        </p>
                                    </div>

                                    <div className="bg-stone-50 p-3 rounded-xl border border-stone-100">
                                        <h4 className="font-bold text-stone-600 text-xs uppercase mb-1 flex items-center gap-1"><ShoppingBag size={12}/> Packing</h4>
                                        <ul className="text-xs text-stone-500 list-disc pl-4 space-y-1">
                                            <li>Comfortable Walking Shoes</li>
                                            <li>Jackets (Desert nights are cold)</li>
                                            <li>Sunscreen & Hats</li>
                                            <li>Bright/White clothes for photos</li>
                                        </ul>
                                    </div>

                                    <div className="bg-stone-50 p-3 rounded-xl border border-stone-100">
                                        <h4 className="font-bold text-stone-600 text-xs uppercase mb-1 flex items-center gap-1"><Navigation size={12}/> Transport</h4>
                                        <ul className="text-xs text-stone-500 list-disc pl-4 space-y-1">
                                            <li><strong>Sleeper Buses:</strong> Best for inter-city.</li>
                                            <li><strong>Scooty:</strong> Best for city exploration.</li>
                                            <li><strong>Auto:</strong> Bargain for full-day hire.</li>
                                        </ul>
                                    </div>
                                </div>

                                <button 
                                    onClick={() => setShowInfoModal(false)}
                                    className="w-full mt-6 bg-stone-800 text-white py-3 rounded-xl font-bold"
                                >
                                    Close
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<HoneymoonPlanner />);
    </script>
</body>
</html>
